{% block agent_permission_failure_reason %}
The service agent must have 'cloudfunctions.serviceAgent' role.
{% endblock agent_permission_failure_reason %}

{% block agent_permission_failure_remediation %}
Review the IAM roles guide for providing default role to the service agent:
https://cloud.google.com/functions/docs/concepts/iam#serviceaccount
{% endblock agent_permission_failure_remediation %}

{% block agent_permission_success_reason %}
Cloud function service agent has the required role permissions
{% endblock agent_permission_success_reason %}



{% block default_service_account_check_failure_reason %}
The cloud run function service agent or default service account either do not exist or are not enabled:
https://cloud.google.com/functions/docs/concepts/iam#access_control_for_service_accounts
{% endblock default_service_account_check_failure_reason %}

{% block default_service_account_check_failure_remediation %}
Review the IAM roles guide for providing default roles to cloud run function default service account and the service agent:
https://cloud.google.com/functions/docs/concepts/iam#serviceaccount
{% endblock default_service_account_check_failure_remediation %}

{% block default_service_account_check_success_reason %}
The service agent and default service account exists and are enabled.
{% endblock default_service_account_check_success_reason %}



{% block user_service_account_check_failure_reason %}
The user principal '{user_principal}' does not have roles/iam.serviceAccountUser role on the runtime Service Account '{runtime_account}'
{% endblock user_service_account_check_failure_reason %}

{% block user_service_account_check_failure_remediation %}
Assign the user, the Service Account User role (roles/iam.serviceAccountUser) on the default or the non-default runtime service account.
This role includes the iam.serviceAccounts.actAs permission.
https://cloud.google.com/functions/docs/reference/iam/roles#additional-configuration
{% endblock user_service_account_check_failure_remediation %}

{% block user_service_account_check_success_reason %}
The user principal '{user_principal}' has roles/iam.serviceAccountUser role on the runtime Service Account '{runtime_account}'
{% endblock user_service_account_check_success_reason %}



{% block global_scope_check_failure_reason %}
This error indicates that there was a problem with your code. The deployment pipeline finished deploying the function,
but failed at the last step- sending a health check to the function. This health check is meant to execute a functions global scope,
which could be throwing an exception, crashing, or timing out.
{% endblock global_scope_check_failure_reason %}

{% block global_scope_check_failure_remediation %}
Please use the following document as reference to address this error:
https://cloud.google.com/functions/docs/troubleshooting#global
{% endblock global_scope_check_failure_remediation %}

{% block global_scope_check_success_reason %}
No issues found with function global scope.
{% endblock global_scope_check_success_reason %}



{% block location_constraint_check_failure_reason %}
If your organization uses a resource location constraint policy,
it restricts function deployment in the regions restricted by the policy.
{% endblock location_constraint_check_failure_reason %}

{% block location_constraint_check_failure_remediation %}
Please use the following document as reference to address this error:
https://cloud.google.com/functions/docs/troubleshooting#resource-location
{% endblock location_constraint_check_failure_remediation %}

{% block location_constraint_check_success_reason %}
No resource location constraints blocking function deployment.
{% endblock location_constraint_check_success_reason %}
