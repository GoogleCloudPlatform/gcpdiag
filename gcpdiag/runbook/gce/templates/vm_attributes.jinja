{% block service_account_exists_success_reason %}
The Ops Agent on instance {full_resource_path} is configured with service account {sa} for exporting logs and metrics.
{% endblock service_account_exists_success_reason %}

{% block service_account_exists_failure_reason %}
The Ops Agent on instance {full_resource_path} is not configured with a service account for exporting logs and metrics.
{% endblock service_account_exists_failure_reason %}

{% block service_account_exists_failure_remediation %}
Attach an active service account to the GCE Instance {full_resource_path}.
Consult the following documentation for guidance:

- Attaching or changing a service account:
  <https://cloud.google.com/compute/docs/instances/change-service-account#changeserviceaccountandscopes>
- Authorizing the Ops Agent:
  <https://cloud.google.com/stackdriver/docs/solutions/agents/ops-agent/authorization#authorize_with_an_attached_service_account>
{% endblock service_account_exists_failure_remediation %}

{% block service_account_exists_step_name %}
Verify Service Account exists
{% endblock service_account_exists_step_name %}

{% block access_scope_step_name %}
Verify GCE Instance has sufficient access scope
{% endblock access_scope_step_name %}

{% block access_scope_success_reason %}
GCE instance {full_resource_path} has at least one of the required scope:
{present_access_scopes}
{% endblock access_scope_success_reason %}

{% block access_scope_failure_reason %}
GCE Instance {full_resource_path} doesn't have any of the required access scopes:
{required_access_scope}
{% endblock access_scope_failure_reason %}

{% block access_scope_failure_remediation %}
Access scopes are the legacy method of specifying authorization for your VM instance.
They define the default OAuth scopes used in requests from the gcloud CLI or the client libraries.
Access scopes don't apply for calls made using gRPC.

Update `{full_resource_path}` to enable at least one of the following access scopes:
{required_access_scope}

Consult the following documentation for guidance on changing the service account and scopes:
<https://cloud.google.com/compute/docs/instances/change-service-account#changeserviceaccountandscopes>
{% endblock access_scope_failure_remediation %}

{% block running_step_name %}
Verify GCE Instance is in a "RUNNING" state.
{% endblock running_step_name %}

{% block running_success_reason %}
The GCE Instance {full_resource_path} is in {status} state.
{% endblock running_success_reason %}

{% block running_skipped_reason %}
Could not validate VM lifecycle for GCE Instance {full_resource_path}.
{% endblock running_skipped_reason %}

{% block running_failure_reason %}
The GCE Instance {full_resource_path} is in {status} state.
{% endblock running_failure_reason %}

{% block running_failure_remediation %}
Restart VM {full_resource_path} and ensure VM lifecycle transitions from {status} to RUNNING.

Consult the following documentation:

- Restarting a compute instance:
  <https://cloud.google.com/compute/docs/instances/stop-start-instance#restart-vm>
- Troubleshooting VM startup issues:
  <https://cloud.google.com/compute/docs/troubleshooting/vm-startup#identify_the_reason_why_the_boot_disk_isnt_booting>
{% endblock running_failure_remediation %}

{% block terminated_vm_running_step_name %}
Verify that the terminated VM is currently running
{% endblock terminated_vm_running_step_name %}

{% block terminated_vm_running_success_reason %}
The GCE Instance {full_resource_path} is currently running.
{% endblock terminated_vm_running_success_reason %}

{% block terminated_vm_running_failure_reason %}
The GCE Instance {full_resource_path} is in the {status} state, not RUNNING. Start the instance if required.
{% endblock terminated_vm_running_failure_reason %}

{% block terminated_vm_running_failure_remediation %}
Start the GCE Instance {full_resource_path} to transition it from the {status} state to the RUNNING state.
Consult the following documentation for assistance:

- Restarting a compute instance:
  <https://cloud.google.com/compute/docs/instances/stop-start-instance#restart-vm>
- Troubleshooting VM startup issues:
  <https://cloud.google.com/compute/docs/troubleshooting/vm-startup#identify_the_reason_why_the_boot_disk_isnt_booting>
{% endblock terminated_vm_running_failure_remediation %}
